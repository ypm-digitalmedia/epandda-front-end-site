function getPhyloPics(){var o=0,n=50,t=12;$.get("http://phylopic.org/api/a/image/count",function(e){o=e.result;var a=_.random(0,o-n);$.get("http://phylopic.org/api/a/image/list/"+a+"/"+n+"?options=uid+pngFiles+svgFile",function(o){var n=[],e=o.result,a=_.sampleSize(e,t);a.forEach(function(o){var t=o.pngFiles[0].url;n.push(t),$("#phylopics").append("<div class='col-4 col-3-s col-1-l col-2-m'><div class='phylo'><img src='http://phylopic.org"+t+"' /></div></div>").hide().fadeIn()})})})}function getApiStatus(){var o="OK";$("#status_APIstatus").text(o).hide().fadeIn();var n=moment(new Date).format("M/D/YYYY @ hh:MM a");$("#status_date").text(n).hide().fadeIn();var t={useEasing:!0,useGrouping:!0,separator:",",decimal:".",prefix:"",suffix:""},e=new CountUp("status_numRecords",0,numRecordsAll,0,1.5,t);e.start()}function demoQuery(){var o=["Paleozoic","Mesozoic","Cenozoic","Cambrian","Ordovician","Silurian","Devonian","Carboniferous","Permian","Triassic","Jurassic","Cretaceous","Paleogene","Holocene"],n=["Acanthocephala","Annelida","Arthropoda","Brachiopoda","Bryozoa","Chaetognatha","Chordata","Cnidaria","Ctenophora","Cycliophora","Echinodermata","Entoprocta","Gastrotricha","Gnathostomulida","Hemichordata","Kinorhyncha","Loricifera","Micrognathozoa","Mollusca","Nematoda","Nematomorpha","Nemertea","Onychophora","Orthonectida","Phoronida","Placozoa","Platyhelminthes","Porifera","Priapulida","Rhombozoa","Rotifera","Sipuncula","Tardigrada","Xenacoelomorpha"],t=_.sample(n),e=_.sample(o);$("#nowSearching_type").text(t),$("#nowSearching_era").text(e);var a=_.random(1,numRecordsAll),c={useEasing:!0,useGrouping:!0,separator:",",decimal:".",prefix:"",suffix:""},r=3.5,i=new CountUp("nowSearching_count",0,a,0,r,c);i.start();var d=new FlipWords("nowSearching_type",n,t,r);d.start();var p=new FlipWords("nowSearching_era",o,e,r);p.start()}var page="home",numRecordsAll=10865713,pageFunctions;$(document).ready(function(){var o,n=function(o){return document.querySelector(o)},t=function(o){$("#"+o).empty()},e=function(o,n,t){$("#"+n).append(t||$("#"+o).html())},a=function(n){o=new Navigo(null,"hash"===n),o.on({home:function(){t("content-body"),e("component-headerlarge","content-body"),e("component-nav","content-body"),e("content-home","content-body"),e("component-nowsearching","content-body"),e("component-colorbars","content-body"),e("component-nsf","content-body"),e("component-footer","content-body"),getPhyloPics(),getApiStatus(),demoQuery()},examples:function(){t("content-body"),e("component-headerlarge","content-body"),e("component-nav","content-body"),e("content-examples","content-body"),e("component-footer","content-body")},reference:function(){t("content-body"),e("component-headerlarge","content-body"),e("component-nav","content-body"),e("content-reference","content-body"),e("component-footer","content-body")},sandbox:function(){t("content-body"),e("component-headerlarge","content-body"),e("component-nav","content-body"),e("content-sandbox","content-body"),e("component-footer","content-body")},about:function(){t("content-body"),e("component-headerlarge","content-body"),e("component-nav","content-body"),e("content-about","content-body"),e("component-footer","content-body")}}),o.on(function(){t("content-body"),e("component-headerlarge","content-body"),e("component-nav","content-body"),e("content-home","content-body"),e("component-nowsearching","content-body"),e("component-colorbars","content-body"),e("component-nsf","content-body"),e("component-footer","content-body"),getPhyloPics(),getApiStatus(),demoQuery()}),o.resolve()},c=function(){var t=n(".js-mode-trigger"),e="history-api",a=!!window.localStorage,c=function(o){t.querySelector("input").checked="hash"===o};return a&&(e=localStorage.getItem("navigo")||e),c(e),t.addEventListener("click",function(){e="history-api"===e?"hash":"history-api",a&&localStorage.setItem("navigo",e),window.location.href=(o.root||"").replace("#",""),setTimeout(function(){window.location.reload(!0)},200)}),e},r=function(){a(c())};window.onload=r});